name: üöÄ

on:
  push: { branches: [main] }
  pull_request: {}
  workflow_dispatch:

jobs:
  testDeploy:
    name: Deploy to Steam ‚òÅ
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2
      - run: |
          mkdir -p build/StandaloneWindows64
          touch build/StandaloneWindows64/steam-deploy-test.txt
          mkdir -p build/StandaloneLinux64
          touch build/StandaloneLinux64/steam-deploy-test.txt
      - uses: ./
        with:
          username: ${{ secrets.STEAM_USERNAME }}
          password: ${{ secrets.STEAM_PASSWORD }}
          configVdf: ${{ secrets.STEAM_CONFIG_VDF}}
          ssfnFileName: ${{ secrets.STEAM_SSFN_FILE_NAME }}
          ssfnFileContents: ${{ secrets.STEAM_SSFN_FILE_CONTENTS }}
          appId: ${{ secrets.TEST_APP_ID }}
          firstDepotIdOverride: ${{ secrets.TEST_FIRST_DEPOT_ID_OVERRIDE }}
          buildDescription: v0.0.1
          rootPath: build
          depot1Path: StandaloneWindows64
          depot2Path: StandaloneLinux64
          releaseBranch: prerelease
